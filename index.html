<!DOCTYPE html>
<html lang="en">
<head>
  <style>
  body {
    background: #f7f7f7;
    margin: 0;
    padding: 10px;
    font-family: "Noto Sans", sans-serif;
  }
  #forum-box {
    max-width: 650px;
    margin: 20px auto;
    background: #fff;
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  }
  h1 {
    font-size: 1.4em;
    text-align: center;
  }
</style>

<meta charset="UTF-8">
<meta name="description" content="Forum komuniti skateboard Malaysia. Sertai perbincangan dalam Bahasa Melayu, English, dan ä¸­æ–‡.">
<meta name="keywords" content="skateboard, forum, malaysia, ä¸­æ–‡, bahasa melayu, english">
<meta name="author" content="Skateboard.my">
<title>Skateboard Forum</title>
</head>
<body>
  <div id="forum-box">
  <h1 id="pageTitle">ğŸ’¬ Forum</h1>
  <!--
  <div>
    <button onclick="switchLang('en')">English</button>
    <button onclick="switchLang('ms')">Bahasa Melayu</button>
    <button onclick="switchLang('zh_CN')">ä¸­æ–‡</button>
  </div>
  -->
  <div id="disqus_thread"></div>
  </div>
  <script>
  // è‡ªå‹•èªè¨€åµæ¸¬ + æœ¬åœ°è¨­å®š
  let userLang = localStorage.getItem('lang') || 
                 (navigator.language.startsWith('zh') ? 'zh_CN' :
                  navigator.language.startsWith('ms') ? 'ms' : 'en');

  // æ ¹æ“šèªè¨€æ”¹é é¢æ¨™é¡Œ
  const titles = { en: "ğŸ’¬ Skateboard.my Forum", ms: "ğŸ’¬ Forum Skateboard.my", zh_CN: "ğŸ’¬ Skateboard.my æ»‘æ¿è®ºå›" };
  document.getElementById('pageTitle').innerText = titles[userLang] || titles['en'];

  // å»ºç«‹ disqus_config
  var disqus_config = function () {
    this.page.url = window.location.href;
    //this.page.identifier = window.location.pathname;

    // æ ¹æ“š URL åˆ¤æ–·æ˜¯å¦æœ‰æŒ‡å®šç‰ˆï¼ˆä¾‹å¦‚ /forum/tech æˆ– /topic/streetï¼‰
    var path = window.location.pathname;

    // è‹¥ path å¤ªçŸ­ï¼ˆä¾‹å¦‚åªæ˜¯ "/" æˆ– "/forum"ï¼‰ï¼Œä½¿ç”¨ä¸»ç‰ˆ "sk-main"
    if (path === "/" || path === "/forum" || path === "/forum/") {
      this.page.identifier = "sk-main";
    } else {
      // å¦å‰‡ç”¨ç›®å‰è·¯å¾‘ä½œç‚ºç‰ˆçš„è­˜åˆ¥ç¢¼
      this.page.identifier = path.replace(/\//g, "-").replace(/^-|-$/g, "");
    }

    this.language = userLang;
  };

  // è¼‰å…¥ Disqus
  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://skateboard-my.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();

  // åˆ‡æ›èªè¨€
  function switchLang(lang) {
    localStorage.setItem('lang', lang);
    location.reload();
  }
  

    
  </script>

  <script>
(function() {
  let lastHeight = 0;
  let ticking = false;

  function getHeight() {
    return Math.max(
      document.documentElement.scrollHeight,
      document.body.scrollHeight
    );
  }

  function sendHeight(force = false) {
    const newHeight = getHeight();
    // åƒ…ç•¶é«˜åº¦å·®è¶…é 10px æˆ–æ˜¯å¼·åˆ¶æ›´æ–°æ™‚æ‰å‚³é€
    if (force || Math.abs(newHeight - lastHeight) > 10) {
      lastHeight = newHeight;
      window.parent.postMessage({ type: 'setHeight', height: newHeight }, '*');
    }
  }

  // åˆå§‹ & è¼‰å…¥å¾Œé€ä¸€æ¬¡
  window.addEventListener('load', () => sendHeight(true));

  // resize æ™‚ï¼ˆä¾‹å¦‚åœ–ç‰‡è¼‰å…¥å¾Œï¼‰
  window.addEventListener('resize', () => sendHeight(true));

  // ç›£æ§ DOM è®ŠåŒ–
  const mo = new MutationObserver(() => {
    if (!ticking) {
      ticking = true;
      requestAnimationFrame(() => {
        sendHeight();
        ticking = false;
      });
    }
  });
  mo.observe(document.body, { childList: true, subtree: true });

  // ä¿éšªç”¨ï¼šæ¯ 2 ç§’æª¢æŸ¥ä¸€æ¬¡
  setInterval(sendHeight, 2000);
})();
</script>

</body>
</html>



